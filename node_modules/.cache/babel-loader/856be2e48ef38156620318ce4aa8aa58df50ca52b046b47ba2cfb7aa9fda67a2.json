{"ast":null,"code":"//  SPDX-License-Identifier: LGPL-2.1-or-later\n//  Copyright (c) 2015-2024 MariaDB Corporation Ab\n\n'use strict';\n\nconst Command = require('./command');\nconst QUIT_COMMAND = new Uint8Array([1, 0, 0, 0, 0x01]);\n\n/**\n * Quit (close connection)\n * see https://mariadb.com/kb/en/library/com_quit/\n */\nclass Quit extends Command {\n  constructor(cmdParam, resolve, reject) {\n    super(cmdParam, resolve, reject);\n  }\n  start(out, opts, info) {\n    if (opts.logger.query) opts.logger.query('QUIT');\n    this.onPacketReceive = this.skipResults;\n    out.fastFlush(this, QUIT_COMMAND);\n    this.emit('send_end');\n    this.successEnd();\n  }\n  skipResults(packet, out, opts, info) {\n    //deliberately empty, if server send answer\n  }\n}\nmodule.exports = Quit;","map":{"version":3,"names":["Command","require","QUIT_COMMAND","Uint8Array","Quit","constructor","cmdParam","resolve","reject","start","out","opts","info","logger","query","onPacketReceive","skipResults","fastFlush","emit","successEnd","packet","module","exports"],"sources":["D:/Ale lui Vlad/Projects/SpotiForums/spotiforums/node_modules/mariadb/lib/cmd/quit.js"],"sourcesContent":["//  SPDX-License-Identifier: LGPL-2.1-or-later\n//  Copyright (c) 2015-2024 MariaDB Corporation Ab\n\n'use strict';\n\nconst Command = require('./command');\nconst QUIT_COMMAND = new Uint8Array([1, 0, 0, 0, 0x01]);\n\n/**\n * Quit (close connection)\n * see https://mariadb.com/kb/en/library/com_quit/\n */\nclass Quit extends Command {\n  constructor(cmdParam, resolve, reject) {\n    super(cmdParam, resolve, reject);\n  }\n\n  start(out, opts, info) {\n    if (opts.logger.query) opts.logger.query('QUIT');\n    this.onPacketReceive = this.skipResults;\n    out.fastFlush(this, QUIT_COMMAND);\n    this.emit('send_end');\n    this.successEnd();\n  }\n\n  skipResults(packet, out, opts, info) {\n    //deliberately empty, if server send answer\n  }\n}\n\nmodule.exports = Quit;\n"],"mappings":"AAAA;AACA;;AAEA,YAAY;;AAEZ,MAAMA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;AACpC,MAAMC,YAAY,GAAG,IAAIC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;;AAEvD;AACA;AACA;AACA;AACA,MAAMC,IAAI,SAASJ,OAAO,CAAC;EACzBK,WAAWA,CAACC,QAAQ,EAAEC,OAAO,EAAEC,MAAM,EAAE;IACrC,KAAK,CAACF,QAAQ,EAAEC,OAAO,EAAEC,MAAM,CAAC;EAClC;EAEAC,KAAKA,CAACC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAE;IACrB,IAAID,IAAI,CAACE,MAAM,CAACC,KAAK,EAAEH,IAAI,CAACE,MAAM,CAACC,KAAK,CAAC,MAAM,CAAC;IAChD,IAAI,CAACC,eAAe,GAAG,IAAI,CAACC,WAAW;IACvCN,GAAG,CAACO,SAAS,CAAC,IAAI,EAAEf,YAAY,CAAC;IACjC,IAAI,CAACgB,IAAI,CAAC,UAAU,CAAC;IACrB,IAAI,CAACC,UAAU,CAAC,CAAC;EACnB;EAEAH,WAAWA,CAACI,MAAM,EAAEV,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAE;IACnC;EAAA;AAEJ;AAEAS,MAAM,CAACC,OAAO,GAAGlB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}