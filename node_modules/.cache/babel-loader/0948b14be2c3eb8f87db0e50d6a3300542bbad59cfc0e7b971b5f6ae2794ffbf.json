{"ast":null,"code":"import React from'react';import{useState,useContext}from\"react\";import{useNavigate}from'react-router-dom';import axios from'axios';import{AuthContext}from'../AuthContext';import'./LogIn.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LogIn=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[data,setData]=useState(null);const{setAuth}=useContext(AuthContext);const navigate=useNavigate();const handleUsernameChange=event=>{setUsername(event.target.value);};const handlePasswordChange=event=>{setPassword(event.target.value);};const handleClick=async event=>{event.preventDefault();// Prevent the default form submission behavior\ntry{const response=await axios.get('http://localhost:5000/login',{params:{username,password}});setData(response.data.message);if(response.data.message==='Correct login'){setAuth({username});navigate('/board');}else if(response.data.message==='Incorrect login'){alert('Incorrect login. Try again');}}catch(error){alert('Error:'+error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form_title_div\",children:/*#__PURE__*/_jsx(\"span\",{className:\"form_title\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\"Log\",/*#__PURE__*/_jsx(\"span\",{className:\"form_title_2\",children:\" in!\"})]})})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleClick,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Username:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:username,placeholder:\"Username\",onChange:handleUsernameChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Password:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"username\",name:\"username\",value:password,placeholder:\"Password\",onChange:handlePasswordChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Log-in\"})]})]});};export default LogIn;","map":{"version":3,"names":["React","useState","useContext","useNavigate","axios","AuthContext","jsx","_jsx","jsxs","_jsxs","LogIn","username","setUsername","password","setPassword","data","setData","setAuth","navigate","handleUsernameChange","event","target","value","handlePasswordChange","handleClick","preventDefault","response","get","params","message","alert","error","className","children","onSubmit","type","id","name","placeholder","onChange"],"sources":["D:/Ale lui Vlad/Projects/SpotiForums/spotiforums/src/pages/LogIn.js"],"sourcesContent":["import React from 'react';\r\nimport {useState, useContext} from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { AuthContext } from '../AuthContext';\r\nimport './LogIn.css'\r\n\r\nconst LogIn = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [data, setData] = useState(null);\r\n    const {setAuth}  = useContext(AuthContext);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleUsernameChange = (event) => {\r\n        setUsername(event.target.value);\r\n    };\r\n\r\n    const handlePasswordChange = (event) => {\r\n        setPassword(event.target.value);\r\n    };\r\n\r\n    const handleClick = async (event) => {\r\n        event.preventDefault(); // Prevent the default form submission behavior\r\n\r\n        try {\r\n            const response = await axios.get('http://localhost:5000/login', {\r\n                params: {\r\n                    username,\r\n                    password,\r\n                },\r\n            });\r\n            setData(response.data.message);\r\n            if (response.data.message === 'Correct login') {\r\n                setAuth({ username });\r\n                navigate('/board');\r\n            } else if (response.data.message === 'Incorrect login') {\r\n                alert('Incorrect login. Try again')\r\n            }\r\n        } catch (error) {\r\n            alert('Error:' + error);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"form-container\">\r\n            <div className=\"form_title_div\">\r\n                <span className=\"form_title\"><b>Log<span className=\"form_title_2\"> in!</span></b></span>\r\n            </div>\r\n            <form onSubmit={handleClick}>\r\n                <label>Username:<br/>\r\n                    <input type=\"text\" id=\"username\" name=\"username\" value={username} placeholder=\"Username\" onChange={handleUsernameChange}/>\r\n                </label><br/>\r\n                <label>Password:<br/>\r\n                    <input type=\"password\" id=\"username\" name=\"username\" value={password} placeholder=\"Password\" onChange={handlePasswordChange}/>\r\n                </label><br/>\r\n                <button type=\"submit\">Log-in</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LogIn;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}