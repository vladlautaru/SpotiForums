{"ast":null,"code":"//  SPDX-License-Identifier: LGPL-2.1-or-later\n//  Copyright (c) 2015-2024 MariaDB Corporation Ab\n\n'use strict';\n\nlet ConnOptions = require('./connection-options');\nclass PoolOptions {\n  constructor(opts) {\n    if (typeof opts === 'string') {\n      opts = ConnOptions.parse(opts);\n\n      //set data type\n      if (opts.acquireTimeout) opts.acquireTimeout = parseInt(opts.acquireTimeout);\n      if (opts.connectionLimit) opts.connectionLimit = parseInt(opts.connectionLimit);\n      if (opts.idleTimeout) opts.idleTimeout = parseInt(opts.idleTimeout);\n      if (opts.leakDetectionTimeout) opts.leakDetectionTimeout = parseInt(opts.leakDetectionTimeout);\n      if (opts.initializationTimeout) opts.initializationTimeout = parseInt(opts.initializationTimeout);\n      if (opts.minDelayValidation) opts.minDelayValidation = parseInt(opts.minDelayValidation);\n      if (opts.minimumIdle) opts.minimumIdle = parseInt(opts.minimumIdle);\n      if (opts.noControlAfterUse) opts.noControlAfterUse = opts.noControlAfterUse === 'true';\n      if (opts.resetAfterUse) opts.resetAfterUse = opts.resetAfterUse === 'true';\n      if (opts.pingTimeout) opts.pingTimeout = parseInt(opts.pingTimeout);\n    }\n    this.acquireTimeout = opts.acquireTimeout === undefined ? 10000 : opts.acquireTimeout;\n    this.connectionLimit = opts.connectionLimit === undefined ? 10 : opts.connectionLimit;\n    this.idleTimeout = opts.idleTimeout === undefined ? 1800 : opts.idleTimeout;\n    this.leakDetectionTimeout = opts.leakDetectionTimeout || 0;\n    this.initializationTimeout = opts.initializationTimeout === undefined ? Math.max(100, this.acquireTimeout - 100) : opts.initializationTimeout;\n    this.minDelayValidation = opts.minDelayValidation === undefined ? 500 : opts.minDelayValidation;\n    this.minimumIdle = opts.minimumIdle === undefined ? this.connectionLimit : Math.min(opts.minimumIdle, this.connectionLimit);\n    this.noControlAfterUse = opts.noControlAfterUse || false;\n    this.resetAfterUse = opts.resetAfterUse || false;\n    this.pingTimeout = opts.pingTimeout || 250;\n    this.connOptions = new ConnOptions(opts);\n    if (this.acquireTimeout > 0 && this.connOptions.connectTimeout > this.acquireTimeout) {\n      this.connOptions.connectTimeout = this.acquireTimeout;\n    }\n  }\n}\nmodule.exports = PoolOptions;","map":{"version":3,"names":["ConnOptions","require","PoolOptions","constructor","opts","parse","acquireTimeout","parseInt","connectionLimit","idleTimeout","leakDetectionTimeout","initializationTimeout","minDelayValidation","minimumIdle","noControlAfterUse","resetAfterUse","pingTimeout","undefined","Math","max","min","connOptions","connectTimeout","module","exports"],"sources":["D:/Ale lui Vlad/Projects/SpotiForums/spotiforums/node_modules/mariadb/lib/config/pool-options.js"],"sourcesContent":["//  SPDX-License-Identifier: LGPL-2.1-or-later\n//  Copyright (c) 2015-2024 MariaDB Corporation Ab\n\n'use strict';\n\nlet ConnOptions = require('./connection-options');\n\nclass PoolOptions {\n  constructor(opts) {\n    if (typeof opts === 'string') {\n      opts = ConnOptions.parse(opts);\n\n      //set data type\n      if (opts.acquireTimeout) opts.acquireTimeout = parseInt(opts.acquireTimeout);\n      if (opts.connectionLimit) opts.connectionLimit = parseInt(opts.connectionLimit);\n      if (opts.idleTimeout) opts.idleTimeout = parseInt(opts.idleTimeout);\n      if (opts.leakDetectionTimeout) opts.leakDetectionTimeout = parseInt(opts.leakDetectionTimeout);\n      if (opts.initializationTimeout) opts.initializationTimeout = parseInt(opts.initializationTimeout);\n      if (opts.minDelayValidation) opts.minDelayValidation = parseInt(opts.minDelayValidation);\n      if (opts.minimumIdle) opts.minimumIdle = parseInt(opts.minimumIdle);\n      if (opts.noControlAfterUse) opts.noControlAfterUse = opts.noControlAfterUse === 'true';\n      if (opts.resetAfterUse) opts.resetAfterUse = opts.resetAfterUse === 'true';\n      if (opts.pingTimeout) opts.pingTimeout = parseInt(opts.pingTimeout);\n    }\n\n    this.acquireTimeout = opts.acquireTimeout === undefined ? 10000 : opts.acquireTimeout;\n    this.connectionLimit = opts.connectionLimit === undefined ? 10 : opts.connectionLimit;\n    this.idleTimeout = opts.idleTimeout === undefined ? 1800 : opts.idleTimeout;\n    this.leakDetectionTimeout = opts.leakDetectionTimeout || 0;\n    this.initializationTimeout =\n      opts.initializationTimeout === undefined ? Math.max(100, this.acquireTimeout - 100) : opts.initializationTimeout;\n    this.minDelayValidation = opts.minDelayValidation === undefined ? 500 : opts.minDelayValidation;\n    this.minimumIdle =\n      opts.minimumIdle === undefined ? this.connectionLimit : Math.min(opts.minimumIdle, this.connectionLimit);\n    this.noControlAfterUse = opts.noControlAfterUse || false;\n    this.resetAfterUse = opts.resetAfterUse || false;\n    this.pingTimeout = opts.pingTimeout || 250;\n    this.connOptions = new ConnOptions(opts);\n\n    if (this.acquireTimeout > 0 && this.connOptions.connectTimeout > this.acquireTimeout) {\n      this.connOptions.connectTimeout = this.acquireTimeout;\n    }\n  }\n}\n\nmodule.exports = PoolOptions;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}