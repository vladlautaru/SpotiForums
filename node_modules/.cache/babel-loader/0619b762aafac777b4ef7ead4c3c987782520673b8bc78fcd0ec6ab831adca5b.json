{"ast":null,"code":"import React from'react';import{useState,useContext}from\"react\";import{useNavigate}from'react-router-dom';import axios from'axios';import{AuthContext}from'../AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddPost=()=>{const[title,setTitle]=useState('');const[desc,setDesc]=useState('');const{auth,logOut}=useContext(AuthContext);const navigate=useNavigate();const handleLogOut=()=>{logOut();navigate('/');};const handleLoginButton=()=>{navigate('/login');};const handleRegisterButton=()=>{navigate('/register');};const handleTitleChange=event=>{setTitle(event.target.value);};const handleDescChange=event=>{setDesc(event.target.value);};const handleSubmit=async event=>{event.preventDefault();const author=auth.username;try{const response=await axios.get('http://localhost:5000/addpost',{params:{title,author,desc}});if(response.data.message==='Post added!'){alert('Post added!');navigate('/board');}}catch(error){//alert('Error' + error);\nalert();}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top_bar_div\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"logo\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\"S\",/*#__PURE__*/_jsx(\"span\",{className:\"logo2\",children:\"F\"})]})})}),auth.username?/*#__PURE__*/_jsxs(\"div\",{className:\"auth\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"credentials\",children:[\"Logged in as: \",auth.username]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogOut,className:\"log_out_button\",children:\"Log Out\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"auth_2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"credentials\",children:\"You are not logged in.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleLoginButton,className:\"log_in_button\",children:\"Log In\"}),/*#__PURE__*/_jsx(\"span\",{className:\"credentials\",children:\"or\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegisterButton,className:\"register_button\",children:\"Register\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:auth.username?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:title,placeholder:\"Title\",onChange:handleTitleChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{id:\"desc\",name:\"desc\",value:desc,placeholder:\"Write your post here...\",onChange:handleDescChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Post\"})]}):/*#__PURE__*/_jsx(\"h3\",{children:\"Not logged in.\"})})]});};export default AddPost;","map":{"version":3,"names":["React","useState","useContext","useNavigate","axios","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddPost","title","setTitle","desc","setDesc","auth","logOut","navigate","handleLogOut","handleLoginButton","handleRegisterButton","handleTitleChange","event","target","value","handleDescChange","handleSubmit","preventDefault","author","username","response","get","params","data","message","alert","error","children","className","onClick","onSubmit","type","id","name","placeholder","onChange"],"sources":["D:/Ale lui Vlad/Projects/SpotiForums/spotiforums/src/pages/AddPost.js"],"sourcesContent":["import React from 'react';\r\nimport {useState, useContext} from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { AuthContext } from '../AuthContext';\r\n\r\nconst AddPost = () => {\r\n    const [title, setTitle] = useState('');\r\n    const [desc, setDesc] = useState('');\r\n\r\n    const {auth, logOut}  = useContext(AuthContext);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogOut = () => {\r\n        logOut();\r\n        navigate('/');\r\n    };\r\n\r\n    const handleLoginButton = () => {\r\n        navigate('/login');\r\n    }\r\n\r\n    const handleRegisterButton = () => {\r\n        navigate('/register');\r\n    }\r\n\r\n    const handleTitleChange = (event) => {\r\n        setTitle(event.target.value);\r\n    };\r\n\r\n    const handleDescChange = (event) => {\r\n        setDesc(event.target.value);\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const author = auth.username;\r\n\r\n        try {\r\n            const response = await axios.get('http://localhost:5000/addpost', {\r\n                params: {\r\n                    title,\r\n                    author,\r\n                    desc,\r\n                },\r\n            });\r\n            if (response.data.message === 'Post added!') {\r\n                alert('Post added!');\r\n                navigate('/board');\r\n            }\r\n        } catch (error) {\r\n            //alert('Error' + error);\r\n            alert()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"top_bar_div\">\r\n                <div>\r\n                    <span className=\"logo\"><b>S<span className=\"logo2\">F</span></b></span>\r\n                </div>\r\n                {auth.username ? (\r\n                    <div className=\"auth\">\r\n                        <span className=\"credentials\">Logged in as: {auth.username}</span>\r\n                        <button onClick={handleLogOut} className=\"log_out_button\">Log Out</button>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"auth_2\">\r\n                        <span className=\"credentials\">You are not logged in.</span>\r\n                        <div className=\"auth\">\r\n                            <button onClick={handleLoginButton} className=\"log_in_button\">Log In</button>\r\n                            <span className=\"credentials\">or</span>\r\n                            <button onClick={handleRegisterButton} className=\"register_button\">Register</button>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div>\r\n                {auth.username ? (\r\n                    <form onSubmit={handleSubmit}>\r\n                        <label>Title:<br/>\r\n                            <input type=\"text\" id=\"title\" name=\"title\" value={title} placeholder=\"Title\"\r\n                                   onChange={handleTitleChange}/>\r\n                        </label><br/>\r\n                        <label>Description:<br/>\r\n                            <textarea id=\"desc\" name=\"desc\" value={desc} placeholder=\"Write your post here...\"\r\n                                      onChange={handleDescChange}/>\r\n                        </label><br/>\r\n                        <button type=\"submit\">Post</button>\r\n                    </form>\r\n                ) : (\r\n                    <h3>Not logged in.</h3>\r\n                )}\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nexport default AddPost;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}