{"ast":null,"code":"//  SPDX-License-Identifier: LGPL-2.1-or-later\n//  Copyright (c) 2015-2024 MariaDB Corporation Ab\n\n'use strict';\n\nconst Command = require('./command');\n\n/**\n * Close prepared statement\n * see https://mariadb.com/kb/en/3-binary-protocol-prepared-statements-com_stmt_close/\n */\nclass ClosePrepare extends Command {\n  constructor(cmdParam, resolve, reject, prepare) {\n    super(cmdParam, resolve, reject);\n    this.prepare = prepare;\n  }\n  start(out, opts, info) {\n    if (opts.logger.query) opts.logger.query(`CLOSE PREPARE: (${this.prepare.id}) ${this.prepare.query}`);\n    const closeCmd = new Uint8Array([5, 0, 0, 0, 0x19, this.prepare.id, this.prepare.id >> 8, this.prepare.id >> 16, this.prepare.id >> 24]);\n    out.fastFlush(this, closeCmd);\n    this.onPacketReceive = null;\n    this.emit('send_end');\n    this.emit('end');\n  }\n}\nmodule.exports = ClosePrepare;","map":{"version":3,"names":["Command","require","ClosePrepare","constructor","cmdParam","resolve","reject","prepare","start","out","opts","info","logger","query","id","closeCmd","Uint8Array","fastFlush","onPacketReceive","emit","module","exports"],"sources":["D:/Ale lui Vlad/Projects/SpotiForums/spotiforums/node_modules/mariadb/lib/cmd/close-prepare.js"],"sourcesContent":["//  SPDX-License-Identifier: LGPL-2.1-or-later\n//  Copyright (c) 2015-2024 MariaDB Corporation Ab\n\n'use strict';\n\nconst Command = require('./command');\n\n/**\n * Close prepared statement\n * see https://mariadb.com/kb/en/3-binary-protocol-prepared-statements-com_stmt_close/\n */\nclass ClosePrepare extends Command {\n  constructor(cmdParam, resolve, reject, prepare) {\n    super(cmdParam, resolve, reject);\n    this.prepare = prepare;\n  }\n\n  start(out, opts, info) {\n    if (opts.logger.query) opts.logger.query(`CLOSE PREPARE: (${this.prepare.id}) ${this.prepare.query}`);\n    const closeCmd = new Uint8Array([\n      5,\n      0,\n      0,\n      0,\n      0x19,\n      this.prepare.id,\n      this.prepare.id >> 8,\n      this.prepare.id >> 16,\n      this.prepare.id >> 24\n    ]);\n    out.fastFlush(this, closeCmd);\n    this.onPacketReceive = null;\n    this.emit('send_end');\n    this.emit('end');\n  }\n}\n\nmodule.exports = ClosePrepare;\n"],"mappings":"AAAA;AACA;;AAEA,YAAY;;AAEZ,MAAMA,OAAO,GAAGC,OAAO,CAAC,WAAW,CAAC;;AAEpC;AACA;AACA;AACA;AACA,MAAMC,YAAY,SAASF,OAAO,CAAC;EACjCG,WAAWA,CAACC,QAAQ,EAAEC,OAAO,EAAEC,MAAM,EAAEC,OAAO,EAAE;IAC9C,KAAK,CAACH,QAAQ,EAAEC,OAAO,EAAEC,MAAM,CAAC;IAChC,IAAI,CAACC,OAAO,GAAGA,OAAO;EACxB;EAEAC,KAAKA,CAACC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAE;IACrB,IAAID,IAAI,CAACE,MAAM,CAACC,KAAK,EAAEH,IAAI,CAACE,MAAM,CAACC,KAAK,CAAE,mBAAkB,IAAI,CAACN,OAAO,CAACO,EAAG,KAAI,IAAI,CAACP,OAAO,CAACM,KAAM,EAAC,CAAC;IACrG,MAAME,QAAQ,GAAG,IAAIC,UAAU,CAAC,CAC9B,CAAC,EACD,CAAC,EACD,CAAC,EACD,CAAC,EACD,IAAI,EACJ,IAAI,CAACT,OAAO,CAACO,EAAE,EACf,IAAI,CAACP,OAAO,CAACO,EAAE,IAAI,CAAC,EACpB,IAAI,CAACP,OAAO,CAACO,EAAE,IAAI,EAAE,EACrB,IAAI,CAACP,OAAO,CAACO,EAAE,IAAI,EAAE,CACtB,CAAC;IACFL,GAAG,CAACQ,SAAS,CAAC,IAAI,EAAEF,QAAQ,CAAC;IAC7B,IAAI,CAACG,eAAe,GAAG,IAAI;IAC3B,IAAI,CAACC,IAAI,CAAC,UAAU,CAAC;IACrB,IAAI,CAACA,IAAI,CAAC,KAAK,CAAC;EAClB;AACF;AAEAC,MAAM,CAACC,OAAO,GAAGnB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}